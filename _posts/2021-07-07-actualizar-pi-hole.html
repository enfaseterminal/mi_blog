---
layout: post
title: Actualizar  Pi-Hole
date: '2021-07-07T20:35:00.001+02:00'
author: David P.
tags:
- ssh
- DNS sinkholing
- privacidad
- DNS
- pi-hole
- actualizar
- publicidad
- raspberry
modified_time: '2023-02-28T19:01:28.601+01:00'
blogger_id: tag:blogger.com,1999:blog-3624480011084378437.post-7491537599856787096
blogger_orig_url: https://www.enfaseterminal.com/2021/07/actualizar-pi-hole.html
---

<div style="text-align: justify;">En una entrada anterior ya recomendamos la utilización de <a href="https://www.enfaseterminal.com/2019/04/pi-hole-aumentando-nuestra-seguridad-y.html" target="_blank">Pi-Hole</a>&nbsp;para realizar un bloqueo por denegación de <a href="https://www.enfaseterminal.com/search/label/DNS">DNS</a> de direcciones maliciosas o la publicidad de las páginas que visitamos o de los equipos que queremos monitorizar.</div><div style="text-align: justify;">Para actualizarlo, accederemos a través de <a href="https://www.enfaseterminal.com/search/label/ssh">SSH</a> al terminal donde tendremos corriendo <a href="https://www.enfaseterminal.com/search/label/pi-hole">Pi-hole</a> y ejecutaremos la instrucción:</div><div style="text-align: justify;"><br /></div><blockquote><div style="text-align: justify;">pihole -up 1</div></blockquote><p>Y ya está, ha sido sencillo.&nbsp;</p><blockquote><p>&nbsp; [i] Checking for updates...</p><p>&nbsp; [i] Pi-hole Core:&nbsp; &nbsp; &nbsp;update available</p><p>&nbsp; [i] Web Interface:&nbsp; &nbsp; update available</p><p>&nbsp; [i] FTL:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; update available</p><p><br /></p><p>&nbsp; [i] Pi-hole core files out of date, updating local repo.</p><p>&nbsp; [âœ“] Check for existing repository in /etc/.pihole</p><p>&nbsp; [i] Update repo in /etc/.pihole...HEAD is now at cbc3fbd Merge pull request #3989 from pi-hole/release/v5.2.3</p><p>&nbsp; [âœ“] Update repo in /etc/.pihole</p><p><br /></p><p>&nbsp; [i] If you had made any changes in '/etc/.pihole/', they have been stashed using 'git stash'</p><p><br /></p><p>&nbsp; [i] Pi-hole Web Admin files out of date, updating local repo.</p><p>&nbsp; [âœ“] Check for existing repository in /var/www/html/admin</p><p>&nbsp; [i] Update repo in /var/www/html/admin...HEAD is now at 3ff33a3 Merge pull request #1704 from pi-hole/release/v5.3</p><p>&nbsp; [âœ“] Update repo in /var/www/html/admin</p><p><br /></p><p>&nbsp; [i] If you had made any changes in '/var/www/html/admin/', they have been stashed using 'git stash'</p><p><br /></p><p>&nbsp; [i] FTL out of date, it will be updated by the installer.</p><p><br /></p><p>&nbsp; [âœ“] Root user check</p><p><br /></p><p>&nbsp; &nbsp; &nbsp; &nbsp; .;;,.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; .ccccc:,.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;:cccclll:.&nbsp; &nbsp; &nbsp; ..,,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :ccccclll.&nbsp; &nbsp;;ooodc</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;'ccll:;ll .oooodc</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.;cll.;;looo:.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.. ','.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .',,,,,,'.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .',,,,,,,,,,.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .',,,,,,,,,,,,....</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ....''',,,,,,,'.......</p><p>&nbsp; &nbsp; &nbsp; &nbsp; .........&nbsp; ....&nbsp; .........</p><p>&nbsp; &nbsp; &nbsp; &nbsp; ..........&nbsp; &nbsp; &nbsp; ..........</p><p>&nbsp; &nbsp; &nbsp; &nbsp; ..........&nbsp; &nbsp; &nbsp; ..........</p><p>&nbsp; &nbsp; &nbsp; &nbsp; .........&nbsp; ....&nbsp; .........</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ........,,,,,,,'......</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ....',,,,,,,,,,,,.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.',,,,,,,,,'.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .',,,,,,'.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ..'''.</p><p><br /></p><p>&nbsp; [âœ“] Update local cache of available packages</p><p>&nbsp; [i] Existing PHP installation detected : PHP version 7.4.3</p><p>&nbsp; [i] Performing unattended setup, no whiptail dialogs will be displayed</p><p><br /></p><p>&nbsp; [âœ“] Checking apt-get for upgraded packages... 19 updates available</p><p>&nbsp; [i] It is recommended to update your OS after installing the Pi-hole!</p><p><br /></p><p>&nbsp; [i] Installer Dependency checks...</p><p>&nbsp; [âœ“] Checking for dhcpcd5</p><p>&nbsp; [âœ“] Checking for git</p><p>&nbsp; [âœ“] Checking for iproute2</p><p>&nbsp; [âœ“] Checking for whiptail</p><p>&nbsp; [âœ“] Checking for dnsutils</p><p><br /></p><p>&nbsp; [âœ“] Supported OS detected</p><p>&nbsp; [i] SELinux not detected</p><p>&nbsp; [i] Performing reconfiguration, skipping download of local repos</p><p>&nbsp; [âœ“] Resetting repository within /etc/.pihole...</p><p>&nbsp; [âœ“] Resetting repository within /var/www/html/admin...</p><p>&nbsp; [i] Main Dependency checks...</p><p>&nbsp; [âœ“] Checking for cron</p><p>&nbsp; [âœ“] Checking for curl</p><p>&nbsp; [âœ“] Checking for iputils-ping</p><p>&nbsp; [âœ“] Checking for lsof</p><p>&nbsp; [âœ“] Checking for netcat</p><p>&nbsp; [âœ“] Checking for psmisc</p><p>&nbsp; [âœ“] Checking for sudo</p><p>&nbsp; [âœ“] Checking for unzip</p><p>&nbsp; [âœ“] Checking for wget</p><p>&nbsp; [âœ“] Checking for idn2</p><p>&nbsp; [âœ“] Checking for sqlite3</p><p>&nbsp; [âœ“] Checking for libcap2-bin</p><p>&nbsp; [âœ“] Checking for dns-root-data</p><p>&nbsp; [âœ“] Checking for libcap2</p><p>&nbsp; [âœ“] Checking for lighttpd</p><p>&nbsp; [âœ“] Checking for php7.4-common</p><p>&nbsp; [âœ“] Checking for php7.4-cgi</p><p>&nbsp; [âœ“] Checking for php7.4-sqlite3</p><p>&nbsp; [âœ“] Checking for php7.4-xml</p><p>&nbsp; [âœ“] Checking for php7.4-json</p><p>&nbsp; [âœ“] Checking for php7.4-intl</p><p><br /></p><p>&nbsp; [âœ“] Enabling lighttpd service to start on reboot...</p><p>&nbsp; [âœ“] Checking for user 'pihole'</p><p><br /></p><p>&nbsp; [i] FTL Checks...</p><p><br /></p><p>&nbsp; [âœ“] Detected x86_64 processor</p><p>&nbsp; [i] Checking for existing FTL binary...</p><p>&nbsp; [âœ“] Downloading and Installing FTL</p><p>&nbsp; [âœ“] Installing scripts from /etc/.pihole</p><p><br /></p><p>&nbsp; [i] Installing configs from /etc/.pihole...</p><p>&nbsp; [i] Existing dnsmasq.conf found... it is not a Pi-hole file, leaving alone!</p><p>&nbsp; [âœ“] Copying 01-pihole.conf to /etc/dnsmasq.d/01-pihole.conf</p><p><br /></p><p>&nbsp; [i] Installing blocking page...</p><p>&nbsp; [âœ“] Creating directory for blocking page, and copying files</p><p>&nbsp; [i] Backing up index.lighttpd.html</p><p>&nbsp; &nbsp; &nbsp; No default index.lighttpd.html file found... not backing up</p><p><br /></p><p>&nbsp; [âœ“] Installing sudoer file</p><p><br /></p><p>&nbsp; [âœ“] Installing latest Cron script</p><p><br /></p><p>&nbsp; [âœ“] Installing latest logrotate script</p><p>&nbsp; [i] Backing up /etc/dnsmasq.conf to /etc/dnsmasq.conf.old</p><p>&nbsp; [âœ“] man pages installed and database updated</p><p>&nbsp; [i] Testing if systemd-resolved is enabled</p><p>&nbsp; [i] Systemd-resolved does not need to be restarted</p><p>&nbsp; [âœ“] Restarting lighttpd service...</p><p>&nbsp; [âœ“] Enabling lighttpd service to start on reboot...</p><p>&nbsp; [i] Restarting services...</p><p>&nbsp; [âœ“] Enabling pihole-FTL service to start on reboot...</p><p>&nbsp; [âœ“] Restarting pihole-FTL service...</p><p>&nbsp; [âœ“] Deleting existing list cache</p><p>&nbsp; [i] Neutrino emissions detected...</p><p>&nbsp; [âœ“] Pulling blocklist source list into range</p><p><br /></p><p>&nbsp; [âœ“] Preparing new gravity database</p><p>&nbsp; [i] Using libz compression</p><p><br /></p><p>&nbsp; [i] Target: https://raw.githubusercontent.com/StevenBlack/hosts/master/hosts</p><p>&nbsp; [âœ“] Status: Retrieval successful</p><p>&nbsp; [i] Received 58568 domains</p><p><br /></p><p>&nbsp; [i] Target: https://mirror1.malwaredomains.com/files/justdomains</p><p>&nbsp; [âœ—] Status: Not found</p><p>&nbsp; [âœ—] List download failed: no cached list available</p><p><br /></p><p>&nbsp; [i] Target: https://www.sunshine.it/blacklist.txt</p><p>&nbsp; [âœ“] Status: Retrieval successful</p><p>&nbsp; [i] Received 82108 domains</p><p><br /></p><p>&nbsp; [âœ“] Storing downloaded domains in new gravity database</p><p>&nbsp; [âœ“] Building tree</p><p>&nbsp; [âœ“] Swapping databases</p><p>&nbsp; [i] Number of gravity domains: 140676 (131363 unique domains)</p><p>&nbsp; [i] Number of exact blacklisted domains: 6</p><p>&nbsp; [i] Number of regex blacklist filters: 0</p><p>&nbsp; [i] Number of exact whitelisted domains: 16</p><p>&nbsp; [i] Number of regex whitelist filters: 1</p><p>&nbsp; [âœ“] Flushing DNS cache</p><p>&nbsp; [âœ“] Cleaning up stray matter</p><p><br /></p><p>&nbsp; [âœ“] DNS service is listening</p><p>&nbsp; &nbsp; &nbsp;[âœ“] UDP (IPv4)</p><p>&nbsp; &nbsp; &nbsp;[âœ“] TCP (IPv4)</p><p>&nbsp; &nbsp; &nbsp;[âœ“] UDP (IPv6)</p><p>&nbsp; &nbsp; &nbsp;[âœ“] TCP (IPv6)</p><p><br /></p><p>&nbsp; [âœ“] Pi-hole blocking is enabled</p><p><br /></p><p>&nbsp; [i] The install log is located at: /etc/pihole/install.log</p><p>Update Complete!&nbsp;</p><p><br /></p><p>&nbsp; Current Pi-hole version is v5.2.3.</p><p>&nbsp; Current AdminLTE version is v5.3.</p><p>&nbsp; Current FTL version is v5.4.</p></blockquote>