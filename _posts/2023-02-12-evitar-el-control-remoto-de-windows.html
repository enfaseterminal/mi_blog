---
layout: post
title: Evitar el control remoto de Windows
date: '2023-02-12T15:05:00.012+01:00'
author: David P.
tags:
- TCP 3389
- privacidad
- regedit
- escritorio remoto
- RDP
- seguridad
- windows
- TeamViewer
- malware
modified_time: '2023-02-12T20:18:46.539+01:00'
thumbnail: https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjFX8CAaFrhVBiFVLhiIvJbAkUcDV6_ByaBof7hxbTqxxYBMrN3ONJLCF1i3IZkoSTyv4TnK73R8N9EJzCll600wKwSTmFy6U-76cwx7bmCHqvO9d3jKXy6Gd2cVe6QCsnEnpzOpry8KhUak2TDwvZYV0wCNJkjSu35WpwJKfPVVfw3VONSb5NSghRE/s72-w400-c-h170/conexion-escritorio-remoto-windows-10.webp
blogger_id: tag:blogger.com,1999:blog-3624480011084378437.post-2742141649738291575
blogger_orig_url: https://www.enfaseterminal.com/2023/02/evitar-el-control-remoto-de-windows.html
---

<div style="text-align: justify;"><b>Windows</b> de forma predeterminada tiene un puerto abierto que permite el acceso al <b>escritorio remoto</b>, y por lo tanto el control de nuestro sistema operativo por otra persona que no somos nosotros.<a href="https://www.enfaseterminal.com/2020/04/teamviewer-salvavidas-para-cunados.html" target="_blank"> El control remoto de nuestro escritorio</a> es una herramienta interesante si necesitamos asesoramiento técnico, siempre que sea permitido y realizado por personal confiable. Pero tener este puerto abierto, o con la configuración de puerto predeterminada, es una <b>brecha de seguridad</b> que puede ser aprovechada por hackers para control nuestro sistema de forma remota y obtener datos sensibles: datos de clientes, datos bancarios, instalar malware....</div><div style="text-align: justify;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjFX8CAaFrhVBiFVLhiIvJbAkUcDV6_ByaBof7hxbTqxxYBMrN3ONJLCF1i3IZkoSTyv4TnK73R8N9EJzCll600wKwSTmFy6U-76cwx7bmCHqvO9d3jKXy6Gd2cVe6QCsnEnpzOpry8KhUak2TDwvZYV0wCNJkjSu35WpwJKfPVVfw3VONSb5NSghRE/s704/conexion-escritorio-remoto-windows-10.webp" style="margin-left: 1em; margin-right: 1em;"><img alt="Escritorio remoto Windows" border="0" data-original-height="300" data-original-width="704" height="170" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjFX8CAaFrhVBiFVLhiIvJbAkUcDV6_ByaBof7hxbTqxxYBMrN3ONJLCF1i3IZkoSTyv4TnK73R8N9EJzCll600wKwSTmFy6U-76cwx7bmCHqvO9d3jKXy6Gd2cVe6QCsnEnpzOpry8KhUak2TDwvZYV0wCNJkjSu35WpwJKfPVVfw3VONSb5NSghRE/w400-h170/conexion-escritorio-remoto-windows-10.webp" title="Escritorio remoto Windows" width="400" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div style="text-align: justify;">Windows de forma predeterminada permite este acceso a través del <b>protocolo RDP (Remote Desktop Protocol)</b> que corresponde al puerto&nbsp;<b>TCP 3389.</b></div><div><div style="text-align: justify;">Lo que te voy a mostrar en esta publicación es a <b>cambiar el puerto de acceso</b>, esto no impedirá que se pueda acceder de forma remota. Pero el atacante ya no podrá acceder a través del puerto conocido del protocolo RDP, y le colocaremos en un rango de puertos que por lo general sueles ser estar cerrados por los <b>cortafuegos</b> de los <b>routers. </b>Esta acción&nbsp;es reversible&nbsp;y si algun dia tenemos que permitir acceso al escritorio remoto, tendremos&nbsp;que proporcionar el numero de puerto que hemos cambiado.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Para cambiar el puerto <b>RDP</b>, tendremos que modificar el puerto <b>TCP RDP predeterminado</b> de nuestro ordenador <b>Windows</b> siguiendo una serie de pasos desde el <b>editor del registro</b> del PC.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Buscaremos en la barra de busqueda del menu de Windows:</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;"><ul><li><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhZnAy3Qw5Ng3x0aQ5gNiL_X5-wv-mNTaNgjOGMqQEzNWk2QwqOc4XBV_2cpApZNMWVrGJwxr22pmH3HmF1QBnoNRmu0PnWB9mrvP7_U1xycFiEsW8GyrpC5-bwC4rMTikPnZp--q9VPvRfvjcLDsKCS9b8NWzDG8MCz6P5Ge-ZHhKy-skt84QkdjCN/s256/regedit.webp" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img alt="regedit" border="0" data-original-height="256" data-original-width="256" height="55" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhZnAy3Qw5Ng3x0aQ5gNiL_X5-wv-mNTaNgjOGMqQEzNWk2QwqOc4XBV_2cpApZNMWVrGJwxr22pmH3HmF1QBnoNRmu0PnWB9mrvP7_U1xycFiEsW8GyrpC5-bwC4rMTikPnZp--q9VPvRfvjcLDsKCS9b8NWzDG8MCz6P5Ge-ZHhKy-skt84QkdjCN/w55-h55/regedit.webp" title="regedit" width="55" /></a></div>&nbsp;<span face="Montserrat, Arial, Helvetica, sans-serif" style="background-color: white; box-sizing: inherit; color: #333333; font-size: 16px; font-weight: 700; letter-spacing: -0.23px; text-align: start;">regedit&nbsp;<br /></span></li></ul></div><div style="text-align: justify;"><br /></div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjsyPVt9OX6VGrd2xt_vmXUD5ZmK4TqDdcfIgPsMKadLneW8gTD6q6l1Es00A-gcT7Q5mx_GTQlVOF8VGOOR_ClWDfzP9VaSuNqv4PUwVnyctp5EqYxeLWHKgBnL_dAFri35aGj_MrcwIpvNXB8veeltUJEChFEh9j3KuXr9LrFIxgNBLI-kcxhQ1Mr/s1920/Captura%20de%20pantalla_20230207_212915.png" style="margin-left: 1em; margin-right: 1em;"><img alt="Editor de registro" border="0" data-original-height="1010" data-original-width="1920" height="210" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjsyPVt9OX6VGrd2xt_vmXUD5ZmK4TqDdcfIgPsMKadLneW8gTD6q6l1Es00A-gcT7Q5mx_GTQlVOF8VGOOR_ClWDfzP9VaSuNqv4PUwVnyctp5EqYxeLWHKgBnL_dAFri35aGj_MrcwIpvNXB8veeltUJEChFEh9j3KuXr9LrFIxgNBLI-kcxhQ1Mr/w400-h210/Captura%20de%20pantalla_20230207_212915.png" title="Editor de registro" width="400" /></a></div><br /><div><br /></div><div style="text-align: justify;">Nos fijaremos en el árbol de carpetas que se encuentra a la izquierda e iremos desplegando las distintas&nbsp; subcarpetas hasta que lleguemos al registro que queremos modificar.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">HKEY_LOCAL_MACHINE&gt;SYSTEM&gt;CurrentControlSet&gt;Control&gt;Terminal Server&gt;WinStations&gt;RDP-Tcp</div><div style="text-align: justify;"><br /></div><span><a name='more'></a></span><div><ul style="text-align: left;"><li><span style="text-align: justify;">HKEY_LOCAL_MACHINE</span></li><ul><li><span style="text-align: justify;">SYSTEM</span></li><ul><li><span style="text-align: justify;">CurrentControlSet</span></li><ul><li><span style="text-align: justify;">Control</span></li><ul><li><span style="text-align: justify;">Terminal Server</span></li><ul><li><span style="text-align: justify;">WinStations</span></li><ul><li><span style="text-align: justify;">RDP-Tcp</span></li></ul></ul></ul></ul></ul></ul></ul><span style="color: #333333; letter-spacing: -0.23px;"><div><span><!--more--></span><span style="color: #333333; letter-spacing: -0.23px;"><br /></span></div>Cuando estemos dentro, habrá que buscar una entrada que pone </span><b style="color: #333333; letter-spacing: -0.23px;">PortNumber</b><span style="color: #333333; letter-spacing: -0.23px;">. Una vez que la localicemos, habrá que hacer doble clic sobre ella para acceder. Por defecto, viene el puerto predeterminado en </span><b style="color: #333333; letter-spacing: -0.23px;">hexadecimal</b><span style="color: #333333; letter-spacing: -0.23px;">, por lo que tendremos que seleccionar la opción </span><b style="color: #333333; letter-spacing: -0.23px;">Decimal</b><span style="color: #333333; letter-spacing: -0.23px;">.</span></div><div style="text-align: justify;"><span face="Montserrat, Arial, Helvetica, sans-serif" style="color: #333333;"><span style="letter-spacing: -0.23px;"><br /></span></span></div><div>Cambiaremos el puerto predeterminado&nbsp;<b>3389, </b>por otro puerto que se encuentre entre los<b> rangos&nbsp;</b><span style="text-align: left;"><b>49152 al 65535.</b></span></div><div style="text-align: justify;"><span style="text-align: left;">Os dejo un generador&nbsp; de puertos aleatorios entre los rangos permitidos. Para generar otro puerto, actualizar la página.</span></div><div style="text-align: justify;"><span style="text-align: left;"><b><br /></b></span></div><div style="text-align: justify;"><iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vSdT0bRgkfqrCtNyKxRnbskhRMmOSwXy4wXpYP_v9U0WmUuMbn12TLwcvlXpStwFm_0TNCCUkCUAAQu/pubhtml?gid=462902180&amp;single=true&amp;widget=true&amp;headers=false"></iframe></div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Guardaremos nuestro nuevo puerto de acceso y los cambios se actualizarán en Windows cuando el sistema se haya reiniciado.</div><div style="text-align: justify;"><span face="Montserrat, Arial, Helvetica, sans-serif" style="color: #333333;"><span style="letter-spacing: -0.23px;"></span></span></div></div>