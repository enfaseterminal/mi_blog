---
layout: post
title: Reutilizar últimos comandos en Linux con history
date: '2021-07-04T22:49:00.000+02:00'
author: David P.
tags:
- GNU/Linux
- linux
- history
- comandos
- historial
modified_time: '2021-07-04T22:49:18.208+02:00'
thumbnail: https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgl9Mi3DKTBy6633CTAwWr0JWjKT0o23rTvKJSbFPdfS0C5XHLFdtSJ1dwHj_MzMwMtJI4YI-WlwE67DpiIPl6sSBiXdldD8kDqMk2Hljs6TrFl-iaBT6bJzbQdLRU5yudK8IuK3rxp9Dc/s72-c/ctrl-teclas-cursor-arriba-abajo-derecha-izquierda.jpg
blogger_id: tag:blogger.com,1999:blog-3624480011084378437.post-9068876707269484403
blogger_orig_url: https://www.enfaseterminal.com/2021/07/reutilizar-ultimos-comandos-en-linux.html
---

<p style="text-align: justify;">Muchos de los comandos que utilizamos en Linux los solemos invocar varias veces. El propio sistema recuerda dichos comandos y podemos recorrer la lista utilizando las flechas arriba ▲ y abajo ▼ del teclado para recorrer uno por uno los que hemos utilizado últimamente.</p><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgl9Mi3DKTBy6633CTAwWr0JWjKT0o23rTvKJSbFPdfS0C5XHLFdtSJ1dwHj_MzMwMtJI4YI-WlwE67DpiIPl6sSBiXdldD8kDqMk2Hljs6TrFl-iaBT6bJzbQdLRU5yudK8IuK3rxp9Dc/s267/ctrl-teclas-cursor-arriba-abajo-derecha-izquierda.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img alt="Flechas teclado" border="0" data-original-height="190" data-original-width="267" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgl9Mi3DKTBy6633CTAwWr0JWjKT0o23rTvKJSbFPdfS0C5XHLFdtSJ1dwHj_MzMwMtJI4YI-WlwE67DpiIPl6sSBiXdldD8kDqMk2Hljs6TrFl-iaBT6bJzbQdLRU5yudK8IuK3rxp9Dc/s16000/ctrl-teclas-cursor-arriba-abajo-derecha-izquierda.jpg" title="Flechas teclado" /></a></div><br /><p>Para obtener el historial de comandos que hemos utilizado últimamente, lo haremos con:</p><blockquote><p><b>history</b></p></blockquote><p>Nos mostrará un listado con un número y el comando asociado a ese número.</p><blockquote><p>&nbsp; &nbsp; 1&nbsp; sudo -V</p><p>&nbsp; &nbsp; 2&nbsp; root@sololinux-demo:~$ sudo -V</p><p>&nbsp; &nbsp; 3&nbsp; Sudo versión 1.8.21p2</p><p>&nbsp; &nbsp; 4&nbsp; versión del complemento de políticas de sudoers 1.8.21p2</p><p>&nbsp; &nbsp; 5&nbsp; versión de gramática del archivo Sudoers 46</p><p>&nbsp; &nbsp; 6&nbsp; Sudoers I/O plugin version 1.8.21p2root@sololinux-demo:~$ sudo -V</p><p>&nbsp; &nbsp; 7&nbsp; Sudo versión 1.8.21p2</p><p>&nbsp; &nbsp; 8&nbsp; versión del complemento de políticas de sudoers 1.8.21p2</p><p>&nbsp; &nbsp; 9&nbsp; versión de gramática del archivo Sudoers 46</p><p>&nbsp; &nbsp;10&nbsp; Sudoers I/O plugin version 1.8.21p2root@sololinux-demo:~$ sudo -V</p><p>&nbsp; &nbsp;11&nbsp; Sudo versión 1.8.21p2</p><p>&nbsp; &nbsp;12&nbsp; versión del complemento de políticas de sudoers 1.8.21p2</p><p>&nbsp; &nbsp;13&nbsp; versión de gramática del archivo Sudoers 46</p><p>&nbsp; &nbsp;14&nbsp; Sudoers I/O plugin version 1.8.21p2root@sololinux-demo:~$ sudo -V</p><p>&nbsp; &nbsp;15&nbsp; Sudo versión 1.8.21p2</p><p>&nbsp; &nbsp;16&nbsp; versión del complemento de políticas de sudoers 1.8.21p2</p><p>&nbsp; &nbsp;17&nbsp; versión de gramática del archivo Sudoers 46</p><p>&nbsp; &nbsp;18&nbsp; Sudoers I/O plugin version 1.8.21p2root@sololinux-demo:~$ sudo -V</p><p>&nbsp; &nbsp;19&nbsp; Sudo versión 1.8.21p2</p><p>&nbsp; &nbsp;20&nbsp; versión del complemento de políticas de sudoers 1.8.21p2</p><p>&nbsp; &nbsp;21&nbsp; versión de gramática del archivo Sudoers 46</p><p>&nbsp; &nbsp;22&nbsp; Sudoers I/O plugin version 1.8.21p2root@sololinux-demo:~$ sudo -V</p><p>&nbsp; &nbsp;23&nbsp; Sudo versión 1.8.21p2</p><p>&nbsp; &nbsp;24&nbsp; versión del complemento de políticas de sudoers 1.8.21p2</p><p>&nbsp; &nbsp;25&nbsp; versión de gramática del archivo Sudoers 46</p><p>&nbsp; &nbsp;26&nbsp; Sudoers I/O plugin version 1.8.21p2</p><p>&nbsp; &nbsp;27&nbsp; wget https://www.sudo.ws/sudo/dist/packages/1.9.4p2/sudo_1.9.4-3_ubu2004_amd64.deb</p><p>&nbsp; &nbsp;28&nbsp; ls</p><p>&nbsp; &nbsp;29&nbsp; sudo gdebi sudo_1.9.4-3_ubu2004_amd64.deb</p><p>&nbsp; &nbsp;30&nbsp; sudo apt install gdebi-core</p><p>&nbsp; &nbsp;31&nbsp; apt update</p><p>&nbsp; &nbsp;32&nbsp; sudo apt install gdebi-core</p><p>&nbsp; &nbsp;33&nbsp; sudo gdebi sudo_1.9.4-3_ubu2004_amd64.deb</p><p>&nbsp; &nbsp;34&nbsp; sudo -V</p><p>&nbsp; &nbsp;35&nbsp; apt update</p><p>&nbsp; &nbsp;36&nbsp; apt list --upgradable</p><p>&nbsp; &nbsp;37&nbsp; apt full-upgrade</p><p>&nbsp; &nbsp;38&nbsp; history</p></blockquote><p>Si por ejemplo queremos ejecutar el comando:&nbsp;<i>sudo apt install gdebi-core </i>que corresponde a la fila 32, utilizaremos el símbolo de final de exclamación ! seguido del número de la fila.</p><blockquote><p><b>!</b>32</p></blockquote><p>Si queremos ejecutar el último comando que tecleado utilizaremos dos finales de exclamación !!</p><blockquote><p><b>!!</b></p></blockquote><p>Sin embargo si queremos limitar la lista de búsqueda, utilizaremos history seguido de número de comandos que queremos visualizar</p><blockquote><p><b>history</b> 3</p></blockquote><p>Si queremos buscar un script con una cadena de texto determinada utilizaremos <b>history | grep</b> seguido de aquello que queremos buscar, como por ejemplo</p><blockquote><p><b>history | grep</b> <i>sudo</i></p></blockquote><div>Si queremos borrar todo el historial de comandos utilizaremos:</div><blockquote><p><b>&nbsp;history -c</b></p></blockquote><p>Si queremos borrar tanto el contenido de la memoria como el contenido del archivo ~/.bash_history tendremos que ejecutar el siguiente comando:</p><blockquote><p><b>history -c &amp;&amp; history -w</b>&nbsp;</p></blockquote>